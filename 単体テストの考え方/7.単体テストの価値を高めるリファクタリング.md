# 単体テストの価値を高めるリファクタリング
- コードの複雑さ
- ドメインにおける重要さ
  - 複雑なコードほど、重要である傾向
- 複雑なコード、重要なコードは単体テストのテスト対象として最も価値が高い
- 協力者オブジェクトを多くもつテスト対象のテストの保守コストは高くなる
- プロダクションコードの4種類の分類
  - ドメインモデル/アルゴリズム
  - 取るに足らないコード
  - コントローラー
  - 過度に複雑なコード
- ビジネスロジックに関する責務
  - コードの深さ（コードの複雑さや重要性）
- 連携の指揮に関する責務
  - コードの広さ（協力者オブジェクトの多さ）
- 事前条件はドメインにおける重要性がある場合のみテストする
- ビジネスロジックと連携を指揮するコードの分離の3つの性質
  - ドメインモデルのテストの容易性
  - コントローラー簡潔さ
  - パフォーマンスの高さ
- コントローラーの複雑さへの対応
  - 確認後実行パターン
  - ドメインイベントの導入