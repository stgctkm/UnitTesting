# 単体テストの構造的解析
- 単体テストは1単位の振る舞いを検証する
  - 準備（Arrange）、実行（Act）、確認（Assert）が1つずつの3フェーズで構成される
  - 同じフェーズが複数含まれる場合、複数の振る舞いを検証している
- 実行フェーズは1行
  - 複数行になる場合、テスト対象コードのAPIの設計不備
  - 1つの振る舞いを実現するために、複数のメソッド呼び出しが要求されるのは設計不備
  - 不変条件（invariant）の侵害
    - カプセル化によって不変条件の侵害を防ぐ
- テストの可読性
  - テスト対象システムを `sut` (Under Test）と命名する
  - 各フェーズのブロックがわかるようにコメント、空行を入れる
- テストフィクスチャ
  - ファクトリーメソッドとして抽出し、テストケース間の結びつきを弱くする
  - コンストラクターに記述しない
    - 読みやすさを損なう
- テストメソッド名
  - 問題領域に精通している非開発者にわかる命名をする
  - テスト対象のメソッド名をテストメソッド名に含めない
- パラメーター化テスト
  - テストメソッド名からテスト内容がわかりにくい
  - コード量を減らせる
- 可読性(英語限定)
  - Fluent Assertion のようなライブラリで普通の英文のように記述でき読みやすくなる