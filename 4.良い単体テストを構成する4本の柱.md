# 良い単体テストを構成する4本の柱
- 良い単体テストを構成する4つの性質
  - 退行（regression）に対する保護
  - リファクタリングへの耐性
  - 迅速なフィードバック
  - 保守のしやすさ
- 退行（regression）に対する保護
  - テストをすることで退行、バグをいかに検出できるかを示す性質
- リファクタリングへの耐性
  - いかに偽陽性を生み出すことなく、プロダクションコードをリファクタリングできるかを示す性質
  - 偽陽性とは機能に問題がないのに、テストが失敗すること
  - 偽陽性はテストケースがテスト対象のコードと結びつくことで発生する
  - テストで検証する対象をテスト対象の実行結果にすることで、結びつきを弱くする
- 迅速なフィードバック
  - テストの実行時間がどれくらい短くなるのかに影響する性質
- 保守のしやすさ
  - 何をテストしているのかを理解するのがどれほど難しいか
    - テストケースは小さいほど、読みやすい
  - テストの実施がどれくらい難しいか
    - プロセス外依存が少ないほど、テストの実施は簡単
- 4つの性質は全て必要不可欠
- 単体テストは全ての性質を最大に備えることはできない
  - 退行に対する保護, リファクタリングへの耐性, 迅速なフィードバック は排反する性質
  - リファクタリングへの耐性 は必須
  - 退行に対する保護, 迅速なフィードバックで調整する
- テストプラミッド
  - 単体テスト、統合テスト、E2Eテストの順にテストケース数は少なくなる
- E2Eテストでは`退行に対する保護`がより重要
- 単体テストでは`迅速なフィードバック`がより重要
- テストケース作成時にはブラックボックステストを用いる
- テストケース分析時にはホワイトボックステストを用いる